/* Import both site fonts (Option B) + GUGI for SignalPilot branding */
@import url("https://fonts.googleapis.com/css2?family=DM+Sans:wght@400;500;700&family=Space+Grotesk:wght@500;700&family=Gugi&display=swap");

:root {
  /* Body and code fonts that Material respects */
  --md-text-font: "DM Sans", system-ui, -apple-system, "Segoe UI", Roboto, Arial, sans-serif;
  --md-code-font: ui-monospace, SFMono-Regular, Menlo, Consolas, "Liberation Mono", "Courier New", monospace;

  /* Headings (Material doesn't expose a var for headings, so override) */
  --sp-heading-font: "Space Grotesk", "DM Sans", system-ui, sans-serif;

  /* GUGI for SignalPilot branding */
  --sp-brand-font: "Gugi", "Space Grotesk", system-ui, sans-serif;

  /* Aurora background gradient (for dark mode) */
  --sp-bg: #05070d;
  --sp-grad: radial-gradient(1200px 700px at -6% -8%, rgba(130,185,255,.18), transparent 60%),
             radial-gradient(1100px 660px at 108% -10%, rgba(155,140,255,.18), transparent 62%),
             radial-gradient(1200px 700px at 52% 118%, rgba(118,221,255,.12), transparent 64%);
}

/* LIGHT scheme (Material = data-md-color-scheme="default") */
[data-md-color-scheme="default"] {
  --md-default-bg-color: #ffffff !important;
  --md-default-fg-color: #0f1524 !important;

  /* Brand colors */
  --md-primary-fg-color: #345CFF;
  --md-primary-fg-color--light: #5B8AFF;
  --md-primary-fg-color--dark: #203057;
  --md-accent-fg-color: #0aa1d5;

  /* Link & subtle tints */
  --md-typeset-a-color: #0aa1d5;

  /* SignalPilot theme compatibility */
  --bg: #ffffff;
  --text: #0f1524;
  --muted: #475569;
}

/* FORCE all text to be dark in light mode */
[data-md-color-scheme="default"] *:not(.md-button):not(.sp-cta) {
  color: #0f1524 !important;
}

[data-md-color-scheme="default"] .md-typeset,
[data-md-color-scheme="default"] .md-typeset *,
[data-md-color-scheme="default"] .md-typeset p,
[data-md-color-scheme="default"] .md-typeset li,
[data-md-color-scheme="default"] .md-typeset td,
[data-md-color-scheme="default"] .md-typeset th,
[data-md-color-scheme="default"] .md-typeset h1,
[data-md-color-scheme="default"] .md-typeset h2,
[data-md-color-scheme="default"] .md-typeset h3,
[data-md-color-scheme="default"] .md-typeset h4,
[data-md-color-scheme="default"] .md-typeset h5,
[data-md-color-scheme="default"] .md-typeset h6,
[data-md-color-scheme="default"] .md-typeset strong,
[data-md-color-scheme="default"] .md-typeset em,
[data-md-color-scheme="default"] .md-typeset span,
[data-md-color-scheme="default"] .md-typeset div,
[data-md-color-scheme="default"] .md-content,
[data-md-color-scheme="default"] .md-content *,
[data-md-color-scheme="default"] body,
[data-md-color-scheme="default"] body * {
  color: #0f1524 !important;
}

/* Exception for links - keep them blue */
[data-md-color-scheme="default"] a,
[data-md-color-scheme="default"] .md-typeset a {
  color: #0aa1d5 !important;
}

/* Exception for primary colored elements */
[data-md-color-scheme="default"] [style*="color: var(--md-primary-fg-color)"],
[data-md-color-scheme="default"] [style*="color:var(--md-primary-fg-color)"] {
  color: #345CFF !important;
}

/* Exception for accent colored elements */
[data-md-color-scheme="default"] [style*="color: var(--md-accent-fg-color)"],
[data-md-color-scheme="default"] [style*="color:var(--md-accent-fg-color)"] {
  color: #0aa1d5 !important;
}

/* Light mode - ensure main content area is white */
[data-md-color-scheme="default"] .md-main,
[data-md-color-scheme="default"] .md-main__inner,
[data-md-color-scheme="default"] .md-content,
[data-md-color-scheme="default"] .md-content__inner {
  background: #ffffff !important;
}

/* Light mode - cards with white/light backgrounds */
[data-md-color-scheme="default"] .md-typeset .grid.cards > * {
  background: #ffffff !important;
  border: 1px solid #e2e8f0 !important;
  box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1) !important;
}

/* Light mode - code blocks */
[data-md-color-scheme="default"] .md-typeset pre,
[data-md-color-scheme="default"] .md-typeset code {
  background: #f1f5f9 !important;
  color: #0f1524 !important;
}

/* Light mode - inline code */
[data-md-color-scheme="default"] .md-typeset code:not(pre code) {
  background: #e2e8f0 !important;
  color: #0f1524 !important;
  padding: 0.1em 0.4em !important;
}

/* Light mode - admonitions */
[data-md-color-scheme="default"] .md-typeset .admonition,
[data-md-color-scheme="default"] .md-typeset details {
  background: #f8fafc !important;
  border: 1px solid #e2e8f0 !important;
}

/* Light mode - tables */
[data-md-color-scheme="default"] .md-typeset table:not([class]) {
  background: #ffffff !important;
  border: 1px solid #e2e8f0 !important;
}

[data-md-color-scheme="default"] .md-typeset table:not([class]) th {
  background: #f8fafc !important;
  border-bottom: 2px solid #e2e8f0 !important;
}

/* Light mode - hero sections and styled divs */
[data-md-color-scheme="default"] div[style*="background: linear-gradient"] {
  color: white !important;
}

[data-md-color-scheme="default"] div[style*="background: linear-gradient"] * {
  color: white !important;
}

/* DARK scheme (Material = data-md-color-scheme="slate") */
[data-md-color-scheme="slate"] {
  --md-default-bg-color: transparent !important;  /* Make transparent for aurora */
  --md-default-fg-color: #ecf1ff !important;

  --md-primary-fg-color: #5b8aff;
  --md-primary-fg-color--light: #7b9bff;
  --md-primary-fg-color--dark: #3b58ff;
  --md-accent-fg-color: #76ddff;

  --md-typeset-a-color: #9fdcff;

  /* SignalPilot theme compatibility */
  --bg: #05070d;
  --text: #ecf1ff;
  --muted: #b7c2d9;
}

/* Ensure body background shows aurora in dark mode */
body {
  background: var(--sp-bg);
}

/* Make Material main container transparent to show aurora */
[data-md-color-scheme="slate"] .md-main {
  background: transparent !important;
}

[data-md-color-scheme="slate"] .md-main__inner {
  background: transparent !important;
}

/* Make sure all text is readable in dark mode */
[data-md-color-scheme="slate"] .md-typeset {
  color: #ecf1ff !important;
}

[data-md-color-scheme="slate"] .md-typeset p,
[data-md-color-scheme="slate"] .md-typeset li,
[data-md-color-scheme="slate"] .md-typeset td,
[data-md-color-scheme="slate"] .md-typeset th,
[data-md-color-scheme="slate"] .md-typeset h1,
[data-md-color-scheme="slate"] .md-typeset h2,
[data-md-color-scheme="slate"] .md-typeset h3,
[data-md-color-scheme="slate"] .md-typeset h4,
[data-md-color-scheme="slate"] .md-typeset h5,
[data-md-color-scheme="slate"] .md-typeset h6 {
  color: #ecf1ff !important;
}

/* Give cards a semi-transparent background so text is readable over aurora */
[data-md-color-scheme="slate"] .md-typeset .grid.cards > * {
  background: rgba(12, 17, 28, 0.85) !important;
  backdrop-filter: blur(10px);
}

/* Content sections need subtle background */
[data-md-color-scheme="slate"] .md-typeset .admonition,
[data-md-color-scheme="slate"] .md-typeset details {
  background: rgba(12, 17, 28, 0.75) !important;
  backdrop-filter: blur(10px);
}

/* Code blocks */
[data-md-color-scheme="slate"] .md-typeset pre,
[data-md-color-scheme="slate"] .md-typeset code {
  background: rgba(16, 22, 38, 0.85) !important;
  color: #ecf1ff !important;
}

/* Tables */
[data-md-color-scheme="slate"] .md-typeset table:not([class]) {
  background: rgba(12, 17, 28, 0.75);
  backdrop-filter: blur(10px);
}

/* LIGHT MODE - Clean white background, no aurora */
[data-md-color-scheme="default"] body {
  background: #ffffff !important;
}

[data-md-color-scheme="default"] .sp-topnav {
  background: color-mix(in srgb, #ffffff 95%, transparent) !important;
  border-bottom: 1px solid rgba(15, 23, 42, 0.12) !important;
}

/* Light mode: brand and nav links are dark */
[data-md-color-scheme="default"] .sp-links a {
  color: #0f172a !important;
}

/* Headings â†’ Space Grotesk for most, GUGI for major headings */
.md-typeset h1 {
  font-family: var(--sp-brand-font);
  font-weight: 400;
  letter-spacing: 0.02em;
  text-wrap: balance;
  font-size: 2.5rem;
  margin-bottom: 1.5rem;
}

/* H1 gradient effect - ONLY in dark mode */
[data-md-color-scheme="slate"] .md-typeset h1 {
  background: linear-gradient(135deg, var(--md-primary-fg-color), var(--md-accent-fg-color));
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
  background-clip: text;
}

/* H1 in light mode - solid dark text, no gradient */
[data-md-color-scheme="default"] .md-typeset h1 {
  color: #0f1524 !important;
  background: none !important;
  -webkit-text-fill-color: unset !important;
}

.md-typeset h2,
.md-typeset h3,
.md-typeset h4 {
  font-family: var(--sp-heading-font);
  letter-spacing: -0.02em;
  text-wrap: balance;
}

/* Make h2 headings more prominent */
.md-typeset h2 {
  color: var(--md-primary-fg-color);
  border-bottom: 2px solid color-mix(in srgb, var(--md-primary-fg-color) 30%, transparent);
  padding-bottom: 0.5rem;
  margin-top: 2rem;
}

/* Slim top brand bar we inject with an override */
.sp-topnav {
  position: sticky; top: 0; z-index: 3;
  backdrop-filter: blur(14px);
  background: color-mix(in srgb, var(--md-default-bg-color) 82%, transparent);
  border-bottom: 1px solid rgba(127, 151, 195, .22);
}
.sp-topnav__inner {
  max-width: 1160px; margin: 0 auto;
  padding: .55rem clamp(14px, 4vw, 22px);
  display: flex; align-items: center; gap: .6rem;
}
/* Brand logo - MUST match main site exactly */
.brand {
  display: flex;
  align-items: center;
  gap: 0.6rem;
  color: #fff;
  text-decoration: none;
  font-weight: 400;
  font-family: 'Gugi', system-ui, -apple-system, sans-serif;
  text-transform: uppercase;
  letter-spacing: 0.1em;
  font-size: 1.4rem;
  flex-shrink: 0;
  white-space: nowrap;
}

@media (max-width: 1600px) {
  .brand {
    font-size: 1.3rem;
  }
}

@media (max-width: 1400px) {
  .brand {
    font-size: 1.25rem;
  }
}

@media (max-width: 768px) {
  .brand {
    font-size: 1.2rem;
    padding-left: 0.5rem;
  }

  /* Compact navigation on tablet */
  .sp-links {
    gap: 0.25rem;
  }

  .sp-links a {
    padding: 0.3rem 0.55rem;
    font-size: 0.9rem;
  }

  .sp-cta {
    padding: 0.4rem 0.75rem !important;
    font-size: 0.9rem !important;
  }
}

@media (max-width: 640px) {
  .brand {
    font-size: 1.1rem;
  }

  /* Hide non-essential nav links on mobile */
  .sp-links a:not(:first-child) {
    display: none;
  }

  /* Make CTA button more compact */
  .sp-cta {
    padding: 0.4rem 0.7rem !important;
    font-size: 0.85rem !important;
    margin-left: auto;
  }

  .sp-topnav__inner {
    padding: 0.5rem 1rem;
  }
}

@media (max-width: 480px) {
  .brand {
    font-size: 1rem;
  }

  /* Ultra compact on small mobile */
  .sp-topnav__inner {
    padding: 0.4rem 0.75rem;
    gap: 0.4rem;
  }

  #themeToggle {
    padding: 0.4rem 0.6rem;
    font-size: 1rem;
  }
}

@media (max-width: 360px) {
  .brand {
    font-size: 0.95rem;
    letter-spacing: 0.05em;
  }

  .sp-cta {
    padding: 0.35rem 0.6rem !important;
    font-size: 0.8rem !important;
  }
}

/* ============================================================================
   RESPONSIVE TYPOGRAPHY & HERO SECTIONS FOR ALL DEVICES
   ============================================================================ */

/* H1 responsive sizing */
@media (max-width: 768px) {
  .md-typeset h1 {
    font-size: 2rem;
  }
}

@media (max-width: 640px) {
  .md-typeset h1 {
    font-size: 1.75rem;
  }
}

@media (max-width: 480px) {
  .md-typeset h1 {
    font-size: 1.5rem;
  }
}

/* Hero section responsive improvements (inline-styled divs on homepage) */
@media (max-width: 768px) {
  /* Target hero sections with inline styles */
  div[style*="font-size: 2.2rem"] {
    font-size: 1.8rem !important;
  }

  div[style*="font-size: 1.2rem"] {
    font-size: 1.1rem !important;
  }

  div[style*="font-size: 1.1rem"] {
    font-size: 1rem !important;
  }

  /* Adjust padding for hero containers */
  div[style*="padding: 3rem"] {
    padding: 2rem 1rem !important;
  }
}

@media (max-width: 640px) {
  div[style*="font-size: 2.2rem"] {
    font-size: 1.5rem !important;
  }

  div[style*="font-size: 3rem"] {
    font-size: 2rem !important;
  }
}

@media (max-width: 480px) {
  div[style*="font-size: 2.2rem"] {
    font-size: 1.3rem !important;
  }

  div[style*="font-size: 3rem"] {
    font-size: 1.75rem !important;
  }

  div[style*="font-size: 1.2rem"] {
    font-size: 1rem !important;
  }
}

[data-md-color-scheme="default"] .brand {
  color: #0f172a;
}
.sp-links { margin-left: .4rem; display:flex; gap:.35rem; flex-wrap: wrap; }
.sp-links a { display:inline-flex; padding:.38rem .7rem; border-radius:999px; text-decoration:none; font-weight:700; color: color-mix(in srgb, var(--md-default-fg-color) 70%, transparent); }
.sp-links a:hover { background: color-mix(in srgb, var(--md-primary-fg-color) 18%, transparent); color: var(--md-default-fg-color); }
#themeToggle {
  display: inline-flex;
  align-items: center;
  justify-content: center;
  padding: 0.5rem 0.8rem;
  border-radius: 999px;
  font-size: 1.2rem;
  border: 1px solid rgba(255, 255, 255, 0.14);
  background: rgba(255, 255, 255, 0.06);
  color: var(--md-default-fg-color);
  cursor: pointer;
  transition: all 0.2s ease;
}
#themeToggle:hover {
  background: rgba(255, 255, 255, 0.12);
  transform: scale(1.05);
}
#theme-icon {
  display: block;
  line-height: 1;
}
.sp-cta { margin-left: auto; display:inline-flex; padding:.5rem .9rem; border-radius:999px; font-weight:800; text-decoration:none; color:#fff; background: linear-gradient(115deg, var(--md-primary-fg-color), var(--md-accent-fg-color)); }

/* Keep Material header at proper level */
.md-header {
  top: 0;
  z-index: 4;
}

/* MOBILE: Just hide our custom nav, let Material handle 100% */
@media screen and (max-width: 76.1875em) {
  .sp-topnav {
    display: none;
  }
}

/* DESKTOP: Hide duplicate title (we have custom nav) */
@media screen and (min-width: 76.1876em) {
  .md-header__title {
    visibility: hidden;
    width: 0;
    overflow: hidden;
  }
}

/* Enhanced cards and buttons with branded styling */
.md-typeset .admonition, .md-typeset details {
  border-radius: 12px;
  border-left: 4px solid var(--md-primary-fg-color);
  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
}

.md-button, .md-typeset .md-button {
  border-radius: 999px;
  transition: all 0.2s ease;
}

.md-typeset .md-button--primary {
  background: linear-gradient(115deg, var(--md-primary-fg-color), var(--md-accent-fg-color));
  border: none;
  box-shadow: 0 4px 12px rgba(52, 92, 255, 0.3);
}

.md-typeset .md-button--primary:hover {
  transform: translateY(-2px);
  box-shadow: 0 6px 16px rgba(52, 92, 255, 0.4);
}

/* Enhanced grid cards for v6 Suite */
.md-typeset .grid.cards > * {
  border-radius: 16px;
  border: 1px solid color-mix(in srgb, var(--md-primary-fg-color) 20%, transparent);
  background: linear-gradient(135deg,
    color-mix(in srgb, var(--md-primary-fg-color) 5%, transparent) 0%,
    transparent 100%);
  transition: all 0.3s ease;
  padding: 1.5rem;
}

.md-typeset .grid.cards > *:hover {
  transform: translateY(-4px);
  border-color: var(--md-primary-fg-color);
  box-shadow: 0 8px 24px rgba(52, 92, 255, 0.2);
}

/* Make emoji icons larger in cards */
.md-typeset .grid.cards .twemoji {
  width: 2rem;
  height: 2rem;
}

/* Code blocks with brand accent */
.md-typeset code {
  background: color-mix(in srgb, var(--md-accent-fg-color) 10%, transparent);
  border-radius: 4px;
  padding: 0.15em 0.4em;
}

/* Blockquotes with brand styling */
.md-typeset blockquote {
  border-left: 4px solid var(--md-accent-fg-color);
  background: color-mix(in srgb, var(--md-accent-fg-color) 5%, transparent);
  border-radius: 8px;
  padding: 1rem 1.5rem;
}

/* Tables with alternating branded rows */
.md-typeset table:not([class]) tbody tr:hover {
  background: color-mix(in srgb, var(--md-primary-fg-color) 8%, transparent);
}

/* Enhance the hero section on homepage */
.md-typeset > blockquote:first-of-type {
  font-size: 1.2rem;
  text-align: center;
  border: none;
  background: linear-gradient(135deg,
    color-mix(in srgb, var(--md-primary-fg-color) 10%, transparent),
    color-mix(in srgb, var(--md-accent-fg-color) 10%, transparent));
  padding: 2rem;
  border-radius: 16px;
  margin-bottom: 3rem;
}

/* ============================================================================
   FINAL LIGHT MODE OVERRIDES - LOADED LAST TO ENSURE PRIORITY
   ============================================================================ */

/* Hide aurora background in light mode */
[data-md-color-scheme="default"] .sp-aurora,
[data-md-color-scheme="default"] .bg-aurora,
[data-md-color-scheme="default"] .bg-aurora-video,
[data-md-color-scheme="default"] .bg-stars,
[data-md-color-scheme="default"] .sp-constellations {
  display: none !important;
  opacity: 0 !important;
}

/* Force pure white body background in light mode */
[data-md-color-scheme="default"] body {
  background: #ffffff !important;
}

[data-md-color-scheme="default"] body::before {
  display: none !important;
}

/* FINAL TEXT COLOR OVERRIDE - This catches absolutely everything */
html[data-md-color-scheme="default"] body,
html[data-md-color-scheme="default"] body *:not(a):not(.md-button):not([class*="btn"]) {
  color: #0f1524 !important;
}

/* Links remain blue in light mode */
html[data-md-color-scheme="default"] a {
  color: #0aa1d5 !important;
}

/* Buttons and CTAs keep their intended colors */
html[data-md-color-scheme="default"] .md-button,
html[data-md-color-scheme="default"] .sp-cta,
html[data-md-color-scheme="default"] [class*="btn"] {
  color: inherit !important;
}
